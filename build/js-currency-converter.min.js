!function(e){"use strict";e(["jquery"],function(e){return function(){function t(t,n,o){function u(e){e.value=t*e.rate,a.resolve(e)}function i(e){a.reject(e)}var a=e.Deferred();return r(n,o).done(u).fail(i),a.promise()}function n(t,n){function r(e){A(l,e[l].val),f.resolve(e[l].val)}function o(e){f.reject(e)}function c(){u(l,null)}var f=e.Deferred(),l=a(t,n),_=i(l);return _?_:(e.get(L.API_URL+l).done(r).fail(o).always(c),u(l,f.promise()),f.promise())}function r(t,r){function o(e){i(!1,e)}function u(e){c(A)?i(!0,C[A].value):f.reject(e)}function i(e,t){f.resolve({expired:e,rate:t})}var f=e.Deferred(),A=a(t,r);return l(A)?i(!1,C[A].value):n(t,r).done(o).fail(u),f.promise()}function o(t){_(t)&&(L=e.extend(L,t))}function u(e,t){O[e]=t}function i(e){return O[e]}function a(e,t){return(e||"")+"_"+(t||"")}function c(e){return _(C[e])}function f(e){var t=s(e.date)?new Date(e.date):e.date;return(new Date).getTime()-t.getTime()>L.RATES_VALIDITY_HOURS}function l(e){return _(C[e])&&!f(C[e])}function A(e,t){C[e]={value:t,date:new Date},L.CACHE_TO_LOCAL_STORAGE&&d(L.LOCAL_STORAGE_VARIABLE_NAME,C)}function _(e){return null!==e&&"object"==typeof e}function s(e){return"string"==typeof e}function d(e,t){E()?localStorage.setItem(e,JSON.stringify(t)):console.error("Caching rates to local storage failed. Local storage not available")}function v(e){return E()?JSON.parse(localStorage.getItem(e)):void console.error("Retrieving rates from local storage failed. Local storage not available")}function E(){var e="js-currency-test";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}var R=36e5,L={RATES_VALIDITY_HOURS:24*R,CACHE_TO_LOCAL_STORAGE:!0,LOCAL_STORAGE_VARIABLE_NAME:"JS_CURRENCY_CONVERTER_CACHED_RATES",API_URL:"http://free.currencyconverterapi.com/api/v3/convert?compact=y&q="},C=L.CACHE_TO_LOCAL_STORAGE?v(L.LOCAL_STORAGE_VARIABLE_NAME)||{}:{},O={},m={};return m.config=o,m.getRate=r,m.fetchQuote=n,m.convertAmount=t,m}()})}("function"==typeof define&&define.amd?define:function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):window.CurrencyConverter=t(window.jQuery)});